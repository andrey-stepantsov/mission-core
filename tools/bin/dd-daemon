#!/bin/bash
DIR="$(cd "$(dirname "$0")" && pwd)"

# Resolve paths relative to .mission/tools/bin
# We want to use the robust Python implementation in .mission/tools/ddd/src
BOOTSTRAP="$DIR/../ddd/bootstrap.sh"
SCRIPT="$DIR/../ddd/src/dd-daemon.py"

# Ensure we have the executable bit (just in case)
if [ -f "$BOOTSTRAP" ]; then
    chmod +x "$BOOTSTRAP"
fi

# Self-Bootstrap and Run
# This upgrades the Lite shell script to the full Python Project-Local Architecture
exec "$BOOTSTRAP" "$SCRIPT" "$@"
